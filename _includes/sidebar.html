<section class="search-box">
  <input id="search-input" type="search" placeholder="Pesquisar posts..." aria-label="Pesquisar posts">
  <div id="search-results" class="search-results" aria-live="polite"></div>
</section>

<section class="tag-list">
  <h3>Tags</h3>
  <ul>
    {% for tag in site.tags %}
      {% assign tag_name = tag[0] %}
      <li class="tag-item">
        <a href="{{ '/tags/' | append: tag_name | relative_url }}">{{ tag_name }}
          <span class="tag-count">({{ tag[1].size }})</span>
        </a>
      </li>
    {% endfor %}
  </ul>
</section>

<section class="archive-tree">
  <h3>Arquivo</h3>
  <ul class="years">
    {% assign posts_by_year = site.posts | group_by_exp:"post","post.date | date: '%Y'" %}
    {% for year in posts_by_year %}
      <li class="year">
        <button class="year-toggle" aria-expanded="false">{{ year.name }}</button>
        <ul class="months" hidden>
          {% assign posts_in_year = year.items %}
          {% assign months = posts_in_year | group_by_exp:"p","p.date | date: '%m|%B'" %}
          {% for month in months %}
            {% assign month_number = month.name | split: "|" | first %}
            {% assign month_name = month.name | split: "|" | last %}
            <li class="month">
              <button class="month-toggle" aria-expanded="false">{{ month_name }}</button>
              <ul class="posts" hidden>
                {% for post in month.items %}
                  <li><a href="{{ post.url | relative_url }}">{{ post.date | date: "%d" }} â€” {{ post.title }}</a></li>
                {% endfor %}
              </ul>
            </li>
          {% endfor %}
        </ul>
      </li>
    {% endfor %}
  </ul>
</section>